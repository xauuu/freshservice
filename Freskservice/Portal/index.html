<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body class="custom-container">
    <header class="custom-container">
        <div class="logo">
            <a href="/"><img src="https://www.truvisor.io/wp-content/uploads/2022/04/logo-light.svg" alt=""></a>
        </div>
        <div class="nav">
            <input type="checkbox" class='nav__input' name="" id="nav__input">
            <nav class="nav__pc">
                <ul class="nav__list">
                    <li><a href="/support/home" class="nav__link">Trang chủ</a></li>
                    <li><a href="/support/solutions" class="nav__link">Hỗ trợ</a></li>
                    <li><a href="/support/tickets" class="nav__link">Yêu cầu</a></li>
                    <li><a href="/support/approvals/pending" class="nav__link">Phê duyệt</a></li>
                    <li><a href="/support/catalog/items" class="nav__link">SC</a></li>
                </ul>
            </nav>
            <label for="nav__input" class="nav__overlay">
            </label>
            <nav class="nav__mobile">
                <label for="nav__input" class="nav__mobile-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path
                            d="M19.7 4.3C19.3 3.9 18.7 3.9 18.3 4.3L12 10.6L5.7 4.3C5.3 3.9 4.7 3.9 4.3 4.3C3.9 4.7 3.9 5.3 4.3 5.7L10.6 12L4.3 18.3C3.9 18.7 3.9 19.3 4.3 19.7C4.5 19.9 4.7 20 5 20C5.3 20 5.5 19.9 5.7 19.7L12 13.4L18.3 19.7C18.5 19.9 18.8 20 19 20C19.2 20 19.5 19.9 19.7 19.7C20.1 19.3 20.1 18.7 19.7 18.3L13.4 12L19.7 5.7C20.1 5.3 20.1 4.7 19.7 4.3Z"
                            fill="#232628" />
                    </svg>
                    <span>Đóng</span>
                </label>
                <ul class="nav__mobile-list">
                    <li><a href="/support/home" class="nav__mobile-link">Trang chủ</a></li>
                    <li><a href="/support/solutions" class="nav__mobile-link">Hỗ trợ</a></li>
                    <li><a href="/support/tickets" class="nav__mobile-link">Yêu cầu</a></li>
                    <li><a href="/support/approvals/pending" class="nav__mobile-link">Phê duyệt</a></li>
                    <li><a href="/support/catalog/items" class="nav__mobile-link">SC</a></li>
                </ul>
                <div class="login-section">
                    <a class="button btn-login" href="">
                        Đăng nhập
                    </a>
                </div>
            </nav>
        </div>
        <div class="user">

        </div>
        <div class="login-section">
            <a class="button btn-login" href="">
                Đăng nhập
            </a>
        </div>
        <label for="nav__input" class="nav__bar-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                <path d="M3 5H29" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path d="M3 16H29" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path d="M3 27H29" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
        </label>
    </header>
    <main class="home-page-container custom-container">
        <section class="hero-banner">
            <h1>Chào mừng bạn đến với Truvisor Việt Nam</h1>
            <h6>Chúng tôi có thể trợ giúp gì được cho bạn?</h6>
            <form role='search' id="search-form">
                <input type="search" id="global-search-home" class="search-input"
                    placeholder="Tìm kiếm các giải pháp, dịch vụ và hỗ trợ" />
                <button type="button" class="button">Tìm kiếm</button>
            </form>
            <div class="tags">
                <span>Phổ biến:</span>
                <div class="tag-list">
                    <a target="_blank" href="/support/search?term=nghỉ%20phép">Nghỉ phép</a>
                    <a target="_blank" href="/support/search?term=chấm%20công">Chấm công</a>
                    <a target="_blank" href="/support/search?term=cộng%20tác%20phí">Công tác phí</a>
                </div>
            </div>
        </section>
        <section class="functions">
            <h2 class="heading text-center">
                Các chức năng phổ biến
            </h2>
            <div class="function-list">
                <div class="item item-1">
                    <div class="image">
                        <img src="/images/lightbulb 1.svg" alt="">
                    </div>
                    <h6>Bài viết hỗ trợ</h6>
                    <p>Tra cứu chính sách hoặc đọc câu hỏi thường gặp để tự khắc phục các vấn đề</p>
                    <a href="#">Đọc thêm</a>
                </div>
                <div class="item item-2">
                    <div class="image">
                        <img src="/images/question-mark 1.svg" alt="">
                    </div>
                    <h6>Báo lỗi thiết bị</h6>
                    <p>Bạn đang gặp khó khăn? Liên hệ với đội hỗ trợ.</p>
                    <a href="#">Đọc thêm</a>
                </div>
                <div class="item item-3">
                    <div class="image">
                        <img src="/images/comments 1.svg" alt="">
                    </div>
                    <h6>Phê duyệt yêu cầu</h6>
                    <p>Xem tất cả các yêu cầu đang chờ bạn phê duyệt</p>
                    <a href="#">Đọc thêm</a>
                </div>
            </div>
        </section>
        <section class="services">
            <div class="sub-header">
                <div>
                    <h2 class="heading">Tạo yêu cầu phê duyệt</h2>
                    <h6 class="sub-title">Các yêu cầu phục vụ cho cán bộ, công nhân viên doanh nghiệp</h6>
                </div>
                <form role='search' class="search-form">
                    <input id="sr-search" type="search" placeholder="Tìm kiếm" />
                    <div class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path
                                d="M22.5623 20.4403L17.3293 15.2073C18.6419 13.3626 19.2134 11.092 18.9306 8.84566C18.6478 6.59935 17.5313 4.54128 15.8025 3.07944C14.0736 1.6176 11.8586 0.8587 9.59656 0.953184C7.33449 1.04767 5.19048 1.98864 3.58956 3.58956C1.98864 5.19048 1.04767 7.33449 0.953184 9.59656C0.8587 11.8586 1.6176 14.0736 3.07944 15.8025C4.54128 17.5313 6.59935 18.6478 8.84566 18.9306C11.092 19.2134 13.3626 18.6419 15.2073 17.3293L20.4403 22.5623C20.7217 22.8437 21.1033 23.0018 21.5013 23.0018C21.8992 23.0018 22.2809 22.8437 22.5623 22.5623C22.8437 22.2809 23.0018 21.8992 23.0018 21.5013C23.0018 21.1033 22.8437 20.7217 22.5623 20.4403ZM3.00129 10.0013C3.00129 8.61682 3.41183 7.26344 4.181 6.1123C4.95017 4.96115 6.04342 4.06395 7.32251 3.53413C8.60159 3.00432 10.0091 2.8657 11.3669 3.13579C12.7248 3.40589 13.9721 4.07258 14.951 5.05154C15.93 6.03051 16.5967 7.27779 16.8668 8.63566C17.1369 9.99353 16.9983 11.401 16.4684 12.6801C15.9386 13.9592 15.0414 15.0524 13.8903 15.8216C12.7391 16.5907 11.3858 17.0013 10.0013 17.0013C8.14543 16.9992 6.36618 16.261 5.05388 14.9487C3.74159 13.6364 3.00341 11.8572 3.00129 10.0013Z"
                                fill="#A9B1BB" />
                        </svg>
                    </div>
                </form>
            </div>
            <div class="sr-container">
                <aside class="sr-categories hide-on-mobile">
                    <ul id="sr-categories-list"></ul>
                </aside>
                <div class="sr-list-container">
                    <h3 class="hide-on-mobile"></h3>
                    <select class="show-on-mobile" id="sr-categories-list-mb"></select>
                    <div class="sr-list-items" id="list-items"></div>
                </div>
            </div>
        </section>
        <section class="solutions">
            <div class="sub-header">
                <div>
                    <h2 class="heading">Thư viện hỗ trợ</h2>
                    <h6 class="sub-title">Các câu hỏi thường gặp, hướng dẫn sử dụng</h6>
                </div>
                <a href="/support/search">
                    <form role='search' class="search-form">
                        <input type="search" placeholder="Tìm kiếm" />
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path
                                    d="M22.5623 20.4403L17.3293 15.2073C18.6419 13.3626 19.2134 11.092 18.9306 8.84566C18.6478 6.59935 17.5313 4.54128 15.8025 3.07944C14.0736 1.6176 11.8586 0.8587 9.59656 0.953184C7.33449 1.04767 5.19048 1.98864 3.58956 3.58956C1.98864 5.19048 1.04767 7.33449 0.953184 9.59656C0.8587 11.8586 1.6176 14.0736 3.07944 15.8025C4.54128 17.5313 6.59935 18.6478 8.84566 18.9306C11.092 19.2134 13.3626 18.6419 15.2073 17.3293L20.4403 22.5623C20.7217 22.8437 21.1033 23.0018 21.5013 23.0018C21.8992 23.0018 22.2809 22.8437 22.5623 22.5623C22.8437 22.2809 23.0018 21.8992 23.0018 21.5013C23.0018 21.1033 22.8437 20.7217 22.5623 20.4403ZM3.00129 10.0013C3.00129 8.61682 3.41183 7.26344 4.181 6.1123C4.95017 4.96115 6.04342 4.06395 7.32251 3.53413C8.60159 3.00432 10.0091 2.8657 11.3669 3.13579C12.7248 3.40589 13.9721 4.07258 14.951 5.05154C15.93 6.03051 16.5967 7.27779 16.8668 8.63566C17.1369 9.99353 16.9983 11.401 16.4684 12.6801C15.9386 13.9592 15.0414 15.0524 13.8903 15.8216C12.7391 16.5907 11.3858 17.0013 10.0013 17.0013C8.14543 16.9992 6.36618 16.261 5.05388 14.9487C3.74159 13.6364 3.00341 11.8572 3.00129 10.0013Z"
                                    fill="#A9B1BB" />
                            </svg>
                        </div>
                    </form>
                </a>
            </div>
            <div class="solution-container">
                <div class="solution-categories-mobile show-on-mobile">
                    <select id="solution-categories-mb"></select>
                </div>
                <div class="articles" id="list-articles"></div>
                <aside class="solution-categories hide-on-mobile">
                    <ul id="solution-categories-list"></ul>
                </aside>
            </div>
        </section>
    </main>
    <footer class="custom-container">
        <div class="footer-container">
            <div class="col-1">
                <a href="/">
                    <img class="logo-footer" src="https://www.truvisor.io/wp-content/uploads/2022/04/logo-light.svg"
                        alt="">
                </a>
                <h6>Service Desk Software by Freshworks</h6>
            </div>
            <div class="col-2">
                <h4>Tham gia cộng đồng</h4>
                <ul>
                    <li><a href="#">Knowledgebase</a></li>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Tài liệu hướng dẫn</a></li>
                    <li><a href="#">Diễn đàn</a></li>
                </ul>
            </div>
            <div class="col-2">
                <h4>Liên kết hữu ích</h4>
                <ul>
                    <li><a href="#">Trang chủ cộng đồng</a></li>
                    <li><a href="#">Hỗ trợ sản phẩm</a></li>
                    <li><a href="#">Hoàn trả</a></li>
                    <li><a href="#">Market API</a></li>
                </ul>
            </div>
            <div class="col-2">
                <h4>Liên hệ với chúng tôi</h4>
                <ul>
                    <li><a href="tel:123456789">+123 456 789</a></li>
                    <li><a href="mailto:support@truvisor.io">support@truvisor.io</a></li>
                </ul>
            </div>
        </div>
        <div class="ft-copyright text-center">
            All rights reserved @
        </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>

        defaultImage = `<svg width="40" height="40" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M7.828 5l-1-1H22v15.172l-1-1v-.69l-3.116-3.117-.395.296-.714-.714.854-.64a.503.503 0 0 1 .657.046L21 16.067V5zM3 20v-.519l2.947-2.947a1.506 1.506 0 0 0 .677.163 1.403 1.403 0 0 0 .997-.415l2.916-2.916-.706-.707-2.916 2.916a.474.474 0 0 1-.678-.048.503.503 0 0 0-.704.007L3 18.067V5.828l-1-1V21h16.172l-1-1zM17 8.5A1.5 1.5 0 1 1 15.5 7 1.5 1.5 0 0 1 17 8.5zm-1 0a.5.5 0 1 0-.5.5.5.5 0 0 0 .5-.5zm5.646 13.854l.707-.707-20-20-.707.707z" />
                                <path fill="none" d="M0 0h24v24H0z" />
                            </svg>`
        $(document).ready(function () {
            const appContainer = jQuery("#sr-categories-list");
            const processContainer = jQuery("#list-items");
            var appList = []
            var processList = []
            const url = "https://trusisor.freshservice.com/api/v2/objects/27000052210/records"
            const header = {
                "Authorization": "Basic " + btoa("QEDIV2kU52hisyqESo1N" + ":x")
            }
            $("#sr-search").keyup(function (e) {
                const activeApp = $(document).width() > 768 ? appContainer.find('li.active').data('app') : jQuery('#sr-categories-list-mb').val();
                const keyword = e.target.value.toLowerCase();
                const filteredProcesses = processList.filter(function (item) {
                    const processName = item.data.process_name.toLowerCase();
                    const appCode = item.data.app_code;

                    if (activeApp === 'all') {
                        return processName.includes(keyword);
                    }

                    return processName.includes(keyword) && appCode.includes(activeApp);
                });

                renderProcess(filteredProcesses);
            });
            jQuery.ajax({
                type: "GET",
                url: url,
                dataType: "json",
                headers: header,
                success: function (response) {
                    appList = getUniqueAppInfo(response.records)
                    processList = response.records
                    renderApp(appList)
                    renderProcess(processList)
                }
            });
            function getUniqueAppInfo(jsonData) {
                const uniqueAppInfo = new Map();

                jsonData.forEach(record => {
                    const { app_code, app_name, app_image } = record.data

                    const key = `${app_code}-${app_name}`;
                    if (app_image) {
                        uniqueAppInfo.set(key, { app_code, app_name, app_image });
                    } else if (!uniqueAppInfo.has(key)) {
                        uniqueAppInfo.set(key, { app_code, app_name, app_image: '' });
                    }
                });
                const result = Array.from(uniqueAppInfo.values());
                return result;
            }

            function renderApp(list) {
                let html = `<li data-app="all" data-title="Tất cả các mục dịch vụ" class="active">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <g clip-path="url(#clip0_9423_15846)">
                                        <path d="M3.75 23.25L12 17.25L20.25 23.25V3C20.25 2.40326 20.0129 1.83097 19.591 1.40901C19.169 0.987053 18.5967 0.75 18 0.75H6C5.40326 0.75 4.83097 0.987053 4.40901 1.40901C3.98705 1.83097 3.75 2.40326 3.75 3V23.25Z" stroke="#9B51E0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_9423_15846">
                                        <rect width="24" height="24" fill="white"/>
                                        </clipPath>
                                    </defs>
                                </svg>
                                Tất cả các mục dịch vụ
                            </li>`
                let option = '<option selected="" value="all">Tất cả các mục dịch vụ</option>'
                jQuery.map(list, function (item, index) {
                    const { app_name, app_code, app_image } = item
                    html += `
                        <li data-app="${app_code}" data-title="${app_name}" title="${app_name}">
                            ${app_image ? app_image : defaultImage}
                            ${app_name}
                        </li>
                        `
                    option += `<option value="${app_code}">${app_name}</option>`
                });
                appContainer.html(html)
                jQuery('#sr-categories-list-mb').html(option)
                $("#sr-categories-list li").click(function (e) {
                    e.preventDefault();
                    const appCode = jQuery(this).data('app');
                    const title = jQuery(this).data('title');
                    jQuery("h3").html(title)
                    jQuery(this).closest("ul").find('li').removeClass('active');
                    jQuery(this).closest('li').addClass("active")
                    if (appCode == 'all') renderProcess(processList)
                    else {
                        const newPList = processList.filter(item => item.data.app_code == appCode)
                        renderProcess(newPList)
                    }
                });
                $("#sr-categories-list-mb").change(function (e) {
                    e.preventDefault();
                    const appCode = e.target.value
                    if (appCode == 'all') renderProcess(processList)
                    else {
                        const newPList = processList.filter(item => item.data.app_code == appCode)
                        renderProcess(newPList)
                    }
                });
            }
            function renderProcess(list) {
                let html = ''
                jQuery.map(list, function (item, index) {
                    const { process_image, process_name, process_url, process_description } = item.data
                    html += `
                        <a class="item" href="${process_url}" target="_blank">
                            <div class="image">
                                ${process_image ? process_image : defaultImage}
                            </div>
                            <div class="info">
                                <h4>${process_name}</h4>
                                <p class="max2">${process_description}</p>
                            </div>
                        </a>
                        `
                });
                processContainer.html(html)
            }
        });
    </script>
    <script>
        $(document).ready(function () {
            const categoryContainer = jQuery("#solution-categories-list");
            const articleContainer = jQuery("#list-articles");
            var categoryList = []
            var articleList = []
            const url = "https://trusisor.freshservice.com/api/v2/solutions/categories?workspace_id=2"
            const header = {
                "Authorization": "Basic " + btoa("QEDIV2kU52hisyqESo1N" + ":x")
            }
            jQuery.ajax({
                type: "GET",
                url: url,
                dataType: "json",
                headers: header,
                success: function (response) {
                    renderCategory(response.categories)
                }
            });
            function renderCategory(list) {
                let html = ``
                let option = ''
                jQuery.map(list, function (item, index) {
                    const { id, name } = item
                    if (index == 0) fetchArticle(id)
                    html += `
                        <li data-id=${id} class="flex-center ${index == 0 ? 'active' : ''}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20" fill="none">
                                <path d="M1.5 19.1654V0.832031H16.5V19.1654" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M1.5 17.5H16.5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M1.5 9.16406H16.5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M9.83594 6.66406V4.16406H4.83594V6.66406" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M13.1641 15V12.5H8.16406V15" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            ${name}
                        </li>
                        `
                    option += `<option selected="${index == 0 ? 'true' : 'false'}" value="${id}">${name}</option>`
                });
                categoryContainer.html(html)
                jQuery('#solution-categories-mb').html(option)

                $("#solution-categories-list li").click(function (e) {
                    e.preventDefault();
                    const id = jQuery(this).data('id');
                    jQuery(this).closest("ul").find('li').removeClass('active');
                    jQuery(this).addClass("active")
                    fetchArticle(id)
                });
                $("#solution-categories-mb").change(function (e) {
                    e.preventDefault();
                    const id = e.target.value
                    fetchArticle(id)
                });
            }
            function fetchArticle(category_id) {
                jQuery.ajax({
                    type: "GET",
                    url: `https://trusisor.freshservice.com/api/v2/solutions/folders?category_id=${category_id}`,
                    dataType: "json",
                    headers: header,
                    success: function (response) {
                        renderArticle(response.folders)
                    }
                });
            }
            function renderArticle(list) {
                let html = ``
                jQuery.map(list, function (item, index) {
                    const { id, name } = item
                    html += `
                    <a href="support/solutions/folders/${id}" class="item">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <g clip-path="url(#clip0_9485_1515)">
                                <path d="M2 14.6667H13.3333L15.3333 6H4L2 14.6667Z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12.6641 3.33203H6.66406L5.33073 1.33203H0.664062V11.9987" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_9485_1515">
                                <rect width="16" height="16" fill="white"/>
                                </clipPath>
                            </defs>
                            </svg>
                        <p>${name}</p>
                        <svg class="icon-end" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
                            fill="currentColor">
                            <g clip-path="url(#clip0_9368_15935)">
                                <path d="M8 1.5V14.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M1.5 8H14.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </g>
                            <defs>
                                <clipPath id="clip0_9368_15935">
                                    <rect width="16" height="16" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                    </a>
                        `
                });
                articleContainer.html(html)
            }
        });

    </script>
</body>

</html>